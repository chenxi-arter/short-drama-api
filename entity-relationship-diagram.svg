<?xml version="1.0" encoding="UTF-8"?>
<svg width="1600" height="1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .entity-box { fill: #ffffff; stroke: #2c3e50; stroke-width: 2; }
      .entity-header { fill: #3498db; }
      .entity-title { fill: white; font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
      .field-text { fill: #2c3e50; font-family: Arial, sans-serif; font-size: 10px; }
      .pk-field { fill: #e74c3c; font-weight: bold; }
      .fk-field { fill: #27ae60; }
      .relation-line { stroke: #7f8c8d; stroke-width: 2; fill: none; }
      .one-to-many { stroke: #e67e22; stroke-width: 3; }
      .many-to-many { stroke: #9b59b6; stroke-width: 3; stroke-dasharray: 5,5; }
      .relation-arrow { fill: #7f8c8d; }
      .comment-text { fill: #7f8c8d; font-family: Arial, sans-serif; font-size: 11px; font-style: italic; }
      .legend-text { fill: #2c3e50; font-family: Arial, sans-serif; font-size: 12px; }
    </style>
  </defs>
  
  <!-- æ ‡é¢˜ -->
  <text x="800" y="30" text-anchor="middle" class="entity-title" fill="#2c3e50" font-size="20">çŸ­å‰§APIå®ä½“å…³ç³»å›¾ Entity Relationship Diagram</text>
  
  <!-- ç”¨æˆ·å®ä½“ User -->
  <rect x="50" y="80" width="220" height="160" class="entity-box"/>
  <rect x="50" y="80" width="220" height="30" class="entity-header"/>
  <text x="160" y="100" text-anchor="middle" class="entity-title">User ç”¨æˆ·</text>
  <text x="60" y="120" class="field-text pk-field">ğŸ”‘ id: bigint ç”¨æˆ·ID</text>
  <text x="60" y="135" class="field-text">first_name: varchar åå­—</text>
  <text x="60" y="150" class="field-text">last_name: varchar å§“æ°</text>
  <text x="60" y="165" class="field-text">username: varchar ç”¨æˆ·å</text>
  <text x="60" y="180" class="field-text">is_active: tinyint æ˜¯å¦æ¿€æ´»</text>
  <text x="60" y="195" class="field-text">created_at: timestamp åˆ›å»ºæ—¶é—´</text>
  <text x="60" y="210" class="field-text">updated_at: timestamp æ›´æ–°æ—¶é—´</text>
  
  <!-- åˆ†ç±»å®ä½“ Category -->
  <rect x="350" y="80" width="200" height="120" class="entity-box"/>
  <rect x="350" y="80" width="200" height="30" class="entity-header"/>
  <text x="450" y="100" text-anchor="middle" class="entity-title">Category åˆ†ç±»</text>
  <text x="360" y="120" class="field-text pk-field">ğŸ”‘ id: int åˆ†ç±»ID</text>
  <text x="360" y="135" class="field-text">name: varchar åˆ†ç±»åç§°</text>
  <text x="360" y="150" class="field-text">description: text æè¿°</text>
  <text x="360" y="165" class="field-text">sort_order: int æ’åº</text>
  
  <!-- ç³»åˆ—å®ä½“ Series -->
  <rect x="620" y="80" width="240" height="220" class="entity-box"/>
  <rect x="620" y="80" width="240" height="30" class="entity-header"/>
  <text x="740" y="100" text-anchor="middle" class="entity-title">Series ç³»åˆ—</text>
  <text x="630" y="120" class="field-text pk-field">ğŸ”‘ id: int ç³»åˆ—ID</text>
  <text x="630" y="135" class="field-text">title: varchar æ ‡é¢˜</text>
  <text x="630" y="150" class="field-text">description: text æè¿°</text>
  <text x="630" y="165" class="field-text">cover_url: varchar å°é¢</text>
  <text x="630" y="180" class="field-text">total_episodes: int æ€»é›†æ•°</text>
  <text x="630" y="195" class="field-text">score: float è¯„åˆ†</text>
  <text x="630" y="210" class="field-text">play_count: int æ’­æ”¾æ¬¡æ•°</text>
  <text x="630" y="225" class="field-text">status: varchar çŠ¶æ€</text>
  <text x="630" y="240" class="field-text">up_status: varchar æ›´æ–°çŠ¶æ€</text>
  <text x="630" y="255" class="field-text">up_count: int æ›´æ–°æ¬¡æ•°</text>
  <text x="630" y="270" class="field-text fk-field">ğŸ”— category_id: int åˆ†ç±»ID</text>
  <text x="630" y="285" class="field-text">created_at: timestamp åˆ›å»ºæ—¶é—´</text>
  
  <!-- å‰§é›†å®ä½“ Episode -->
  <rect x="950" y="80" width="220" height="180" class="entity-box"/>
  <rect x="950" y="80" width="220" height="30" class="entity-header"/>
  <text x="1060" y="100" text-anchor="middle" class="entity-title">Episode å‰§é›†</text>
  <text x="960" y="120" class="field-text pk-field">ğŸ”‘ id: int å‰§é›†ID</text>
  <text x="960" y="135" class="field-text fk-field">ğŸ”— series_id: int ç³»åˆ—ID</text>
  <text x="960" y="150" class="field-text">episode_number: int é›†æ•°</text>
  <text x="960" y="165" class="field-text">title: varchar æ ‡é¢˜</text>
  <text x="960" y="180" class="field-text">duration: int æ—¶é•¿</text>
  <text x="960" y="195" class="field-text">status: varchar çŠ¶æ€</text>
  <text x="960" y="210" class="field-text">play_count: int æ’­æ”¾æ¬¡æ•°</text>
  
  <!-- æ ‡ç­¾å®ä½“ Tag -->
  <rect x="1250" y="80" width="200" height="100" class="entity-box"/>
  <rect x="1250" y="80" width="200" height="30" class="entity-header"/>
  <text x="1350" y="100" text-anchor="middle" class="entity-title">Tag æ ‡ç­¾</text>
  <text x="1260" y="120" class="field-text pk-field">ğŸ”‘ id: int æ ‡ç­¾ID</text>
  <text x="1260" y="135" class="field-text">name: varchar æ ‡ç­¾åç§°</text>
  
  <!-- å‰§é›†æ’­æ”¾åœ°å€å®ä½“ EpisodeUrl -->
  <rect x="950" y="320" width="220" height="160" class="entity-box"/>
  <rect x="950" y="320" width="220" height="30" class="entity-header"/>
  <text x="1060" y="340" text-anchor="middle" class="entity-title">EpisodeUrl æ’­æ”¾åœ°å€</text>
  <text x="960" y="360" class="field-text pk-field">ğŸ”‘ id: int åœ°å€ID</text>
  <text x="960" y="375" class="field-text fk-field">ğŸ”— episode_id: int å‰§é›†ID</text>
  <text x="960" y="390" class="field-text">quality: varchar æ¸…æ™°åº¦</text>
  <text x="960" y="405" class="field-text">oss_url: varchar OSSåœ°å€</text>
  <text x="960" y="420" class="field-text">cdn_url: varchar CDNåœ°å€</text>
  <text x="960" y="435" class="field-text">subtitle_url: varchar å­—å¹•</text>
  
  <!-- çŸ­è§†é¢‘å®ä½“ ShortVideo -->
  <rect x="350" y="250" width="200" height="200" class="entity-box"/>
  <rect x="350" y="250" width="200" height="30" class="entity-header"/>
  <text x="450" y="270" text-anchor="middle" class="entity-title">ShortVideo çŸ­è§†é¢‘</text>
  <text x="360" y="290" class="field-text pk-field">ğŸ”‘ id: int çŸ­è§†é¢‘ID</text>
  <text x="360" y="305" class="field-text">title: varchar æ ‡é¢˜</text>
  <text x="360" y="320" class="field-text">description: text æè¿°</text>
  <text x="360" y="335" class="field-text">cover_url: varchar å°é¢</text>
  <text x="360" y="350" class="field-text">video_url: varchar è§†é¢‘åœ°å€</text>
  <text x="360" y="365" class="field-text">duration: int æ—¶é•¿</text>
  <text x="360" y="380" class="field-text">play_count: bigint æ’­æ”¾æ¬¡æ•°</text>
  <text x="360" y="395" class="field-text">like_count: bigint ç‚¹èµæ•°</text>
  <text x="360" y="410" class="field-text">platform_name: varchar å¹³å°</text>
  <text x="360" y="425" class="field-text fk-field">ğŸ”— category_id: int åˆ†ç±»ID</text>
  
  <!-- è¯„è®ºå®ä½“ Comment -->
  <rect x="50" y="320" width="220" height="160" class="entity-box"/>
  <rect x="50" y="320" width="220" height="30" class="entity-header"/>
  <text x="160" y="340" text-anchor="middle" class="entity-title">Comment è¯„è®º</text>
  <text x="60" y="360" class="field-text pk-field">ğŸ”‘ id: bigint è¯„è®ºID</text>
  <text x="60" y="375" class="field-text fk-field">ğŸ”— user_id: bigint ç”¨æˆ·ID</text>
  <text x="60" y="390" class="field-text fk-field">ğŸ”— episode_id: int å‰§é›†ID</text>
  <text x="60" y="405" class="field-text">content: text å†…å®¹</text>
  <text x="60" y="420" class="field-text">appear_second: int å‡ºç°æ—¶é—´</text>
  <text x="60" y="435" class="field-text">created_at: timestamp åˆ›å»ºæ—¶é—´</text>
  
  <!-- è§‚çœ‹è¿›åº¦å®ä½“ WatchProgress -->
  <rect x="50" y="540" width="220" height="140" class="entity-box"/>
  <rect x="50" y="540" width="220" height="30" class="entity-header"/>
  <text x="160" y="560" text-anchor="middle" class="entity-title">WatchProgress è§‚çœ‹è¿›åº¦</text>
  <text x="60" y="580" class="field-text pk-field">ğŸ”‘ user_id: bigint ç”¨æˆ·ID</text>
  <text x="60" y="595" class="field-text pk-field">ğŸ”‘ episode_id: int å‰§é›†ID</text>
  <text x="60" y="610" class="field-text">stop_at_second: int åœæ­¢ç§’æ•°</text>
  <text x="60" y="625" class="field-text">updated_at: timestamp æ›´æ–°æ—¶é—´</text>
  
  <!-- åˆ·æ–°ä»¤ç‰Œå®ä½“ RefreshToken -->
  <rect x="350" y="540" width="200" height="180" class="entity-box"/>
  <rect x="350" y="540" width="200" height="30" class="entity-header"/>
  <text x="450" y="560" text-anchor="middle" class="entity-title">RefreshToken åˆ·æ–°ä»¤ç‰Œ</text>
  <text x="360" y="580" class="field-text pk-field">ğŸ”‘ id: int ä»¤ç‰ŒID</text>
  <text x="360" y="595" class="field-text fk-field">ğŸ”— user_id: bigint ç”¨æˆ·ID</text>
  <text x="360" y="610" class="field-text">token: varchar ä»¤ç‰Œå€¼</text>
  <text x="360" y="625" class="field-text">expires_at: timestamp è¿‡æœŸæ—¶é—´</text>
  <text x="360" y="640" class="field-text">created_at: timestamp åˆ›å»ºæ—¶é—´</text>
  <text x="360" y="655" class="field-text">is_revoked: tinyint æ˜¯å¦æ’¤é”€</text>
  <text x="360" y="670" class="field-text">device_info: varchar è®¾å¤‡ä¿¡æ¯</text>
  <text x="360" y="685" class="field-text">ip_address: varchar IPåœ°å€</text>
  
  <!-- å…³ç³»è¿çº¿ -->
  
  <!-- Category -> Series (ä¸€å¯¹å¤š) -->
  <line x1="550" y1="140" x2="620" y2="190" class="relation-line one-to-many"/>
  <polygon points="620,190 615,185 615,195" class="relation-arrow"/>
  <text x="585" y="160" class="comment-text">ä¸€å¯¹å¤šï¼šåˆ†ç±»åŒ…å«ç³»åˆ—</text>
  
  <!-- Series -> Episode (ä¸€å¯¹å¤š) -->
  <line x1="860" y1="180" x2="950" y2="180" class="relation-line one-to-many"/>
  <polygon points="950,180 945,175 945,185" class="relation-arrow"/>
  <text x="905" y="170" class="comment-text">ä¸€å¯¹å¤šï¼šç³»åˆ—åŒ…å«å‰§é›†</text>
  
  <!-- Episode -> EpisodeUrl (ä¸€å¯¹å¤š) -->
  <line x1="1060" y1="260" x2="1060" y2="320" class="relation-line one-to-many"/>
  <polygon points="1060,320 1055,315 1065,315" class="relation-arrow"/>
  <text x="1070" y="290" class="comment-text">ä¸€å¯¹å¤šï¼šå‰§é›†æœ‰å¤šä¸ªæ’­æ”¾åœ°å€</text>
  
  <!-- User -> Comment (ä¸€å¯¹å¤š) -->
  <line x1="160" y1="240" x2="160" y2="320" class="relation-line one-to-many"/>
  <polygon points="160,320 155,315 165,315" class="relation-arrow"/>
  <text x="170" y="280" class="comment-text">ä¸€å¯¹å¤šï¼šç”¨æˆ·å‘è¡¨è¯„è®º</text>
  
  <!-- Episode -> Comment (ä¸€å¯¹å¤š) -->
  <line x1="950" y1="220" x2="270" y2="380" class="relation-line one-to-many"/>
  <polygon points="270,380 275,375 275,385" class="relation-arrow"/>
  <text x="610" y="300" class="comment-text">ä¸€å¯¹å¤šï¼šå‰§é›†æœ‰å¤šä¸ªè¯„è®º</text>
  
  <!-- User -> WatchProgress (ä¸€å¯¹å¤š) -->
  <line x1="160" y1="240" x2="160" y2="540" class="relation-line one-to-many"/>
  <polygon points="160,540 155,535 165,535" class="relation-arrow"/>
  <text x="170" y="390" class="comment-text">ä¸€å¯¹å¤šï¼šç”¨æˆ·è§‚çœ‹è¿›åº¦</text>
  
  <!-- Episode -> WatchProgress (ä¸€å¯¹å¤š) -->
  <line x1="950" y1="240" x2="270" y2="600" class="relation-line one-to-many"/>
  <polygon points="270,600 275,595 275,605" class="relation-arrow"/>
  <text x="610" y="420" class="comment-text">ä¸€å¯¹å¤šï¼šå‰§é›†è§‚çœ‹è¿›åº¦</text>
  
  <!-- User -> RefreshToken (ä¸€å¯¹å¤š) -->
  <line x1="270" y1="200" x2="450" y2="540" class="relation-line one-to-many"/>
  <polygon points="450,540 455,535 455,545" class="relation-arrow"/>
  <text x="360" y="370" class="comment-text">ä¸€å¯¹å¤šï¼šç”¨æˆ·åˆ·æ–°ä»¤ç‰Œ</text>
  
  <!-- Category -> ShortVideo (ä¸€å¯¹å¤š) -->
  <line x1="450" y1="200" x2="450" y2="250" class="relation-line one-to-many"/>
  <polygon points="450,250 445,245 455,245" class="relation-arrow"/>
  <text x="460" y="225" class="comment-text">ä¸€å¯¹å¤šï¼šåˆ†ç±»åŒ…å«çŸ­è§†é¢‘</text>
  
  <!-- Series <-> Tag (å¤šå¯¹å¤š) -->
  <line x1="860" y1="120" x2="1250" y2="120" class="relation-line many-to-many"/>
  <polygon points="1250,120 1245,115 1245,125" class="relation-arrow"/>
  <text x="1055" y="110" class="comment-text">å¤šå¯¹å¤šï¼šç³»åˆ—æ ‡ç­¾å…³ç³»</text>
  
  <!-- Episode <-> Tag (å¤šå¯¹å¤š) -->
  <line x1="1170" y1="150" x2="1250" y2="150" class="relation-line many-to-many"/>
  <polygon points="1250,150 1245,145 1245,155" class="relation-arrow"/>
  <text x="1210" y="140" class="comment-text">å¤šå¯¹å¤šï¼šå‰§é›†æ ‡ç­¾å…³ç³»</text>
  
  <!-- å›¾ä¾‹ -->
  <rect x="50" y="800" width="400" height="200" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/>
  <text x="250" y="825" text-anchor="middle" class="entity-title" fill="#2c3e50">å›¾ä¾‹è¯´æ˜ Legend</text>
  
  <text x="70" y="850" class="pk-field">ğŸ”‘ ä¸»é”®å­—æ®µ Primary Key</text>
  <text x="70" y="870" class="fk-field">ğŸ”— å¤–é”®å­—æ®µ Foreign Key</text>
  
  <line x1="70" y1="890" x2="150" y2="890" class="relation-line one-to-many"/>
  <polygon points="150,890 145,885 145,895" class="relation-arrow"/>
  <text x="160" y="895" class="legend-text">ä¸€å¯¹å¤šå…³ç³» One-to-Many</text>
  
  <line x1="70" y1="920" x2="150" y2="920" class="relation-line many-to-many"/>
  <polygon points="150,920 145,915 145,925" class="relation-arrow"/>
  <text x="160" y="925" class="legend-text">å¤šå¯¹å¤šå…³ç³» Many-to-Many</text>
  
  <text x="70" y="950" class="legend-text">å®ä½“æ¡†ï¼šç™½è‰²èƒŒæ™¯ï¼Œè“è‰²æ ‡é¢˜æ </text>
  <text x="70" y="970" class="legend-text">å…³ç³»çº¿ï¼šæ©™è‰²å®çº¿ï¼ˆä¸€å¯¹å¤šï¼‰ï¼Œç´«è‰²è™šçº¿ï¼ˆå¤šå¯¹å¤šï¼‰</text>
  
</svg>